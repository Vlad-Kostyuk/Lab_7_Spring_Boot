#!/bin/bash
echo "Start script"
echo "Remove old container"
docker rm --force spring-boot
docker rm --force mysql-vlad

echo "Remove dicertory"
cd /
rm -rf spring-boot

if ! [ -d /path/spring-boot/ ]; then
echo "create directory: spring-boot"
mkdir /spring-boot
fi

echo "download GitHub repository"
cd /spring-boot
git clone https://github.com/Vlad-Kostyuk/Lab_7_Spring_Boot.git
echo "download compleate"

echo "Create containers"
docker run --name mysql-vlad -e MYSQL_ROOT_PASSWORD=vlad771200 -e MYSQL_DATABASE=iot_test_db -e MYSQL_USER=vlad -e MYSQL_PASSWORD=vlad771200 -d mysql:latest
docker build . -t spring-boot
docker run -p 8085:8085 --name spring-boot --link mysql-vlad:mysql -d spring-boot

